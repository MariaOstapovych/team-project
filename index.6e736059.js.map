{"mappings":"iiBAAAA,EAAA,S,sBCAA,IAAAC,EAAAD,EAAA,S,sBCAA,IAAAE,EAAAF,EAAA,S,sDAGMG,EAAcC,SAASC,cAAc,gBACrCC,EAAWF,SAASC,cAAc,iBAClCE,EAAYH,SAASC,cAAc,kBACnCG,EAAYJ,SAASC,cAAc,qBACnCI,EAAkBL,SAASC,cAAc,0BAyBxC,SAASK,EAAeC,GAC7B,OAAOA,EACJC,KACC,SAAAC,G,IACEC,EAAGD,EAAHC,IACAC,EAAUF,EAAVE,WACAC,EAAKH,EAALG,MACAC,EAAMJ,EAANI,O,MACI,gDAGUC,OAHsCJ,EAAI,+IAGPI,OAAnCH,EAAW,0BAOaG,OAPWJ,EAAI,+RAUbI,OAHFF,EAAM,2HAGGE,OAAPD,EAAO,6F,IAMlDE,KAAK,G,CAlDVhB,EAAYiB,iBAAiB,SAE7B,SAAiBC,GACf,IAAMC,EAAeD,EAAIE,OAAOC,UAChCC,EAAAC,OAAOC,OACPC,EAAAC,QACGC,IACC,+DAA4EZ,OAAbI,IAEhES,MAAK,SAAUC,GACdxB,EAAUyB,UAAY,GACtB3B,EAAS2B,UAAYvB,EAAesB,EAASE,MAE7CT,EAAAC,OAAOS,M,IAERC,OAAM,SAAUC,GACfC,QAAQC,IAAIF,E,IAEhB9B,EAAUiC,YAAclB,EACxBb,EAAgBgC,MAAMC,WAAa,SACnCjC,EAAgBgC,MAAME,SAAW,U,IAiC5B,I,EAAMC,G,EAAqBC,EAAA3C,EAAA,CAAA2C,EAAAC,GAAAC,MAAA,SAAAC,I,IAExBC,EAGAC,E,4FAHuB,EAAAjD,EAAAkD,qB,QAAvBF,EAAcG,EAAAC,MACLC,MAAK,SAACC,EAAGC,G,OAAMD,EAAEE,UAAUC,cAAcF,EAAEC,U,IAEpDP,EAAwBD,EAC3BrC,KACC,SAAA+C,G,MACE,uFAEuBzC,OAAnByC,EAASF,UAAU,uC,IAI1BtC,KAAK,IACRhB,EAAYyD,mBAAmB,YAAaV,G,gDAE5CZ,QAAQC,IAAGa,EAAAS,I,qGAGfjB,ID7EA,IAAMkB,EAAW1D,SAASC,cAAc,iBAClC0D,EAAY3D,SAASC,cAAc,sBACzB,EAAAJ,EAAA+D,eAERjC,MAAK,SAAAG,G,OACb,SAAoB+B,GAClB,IAAIC,EAAS,GA8Bb,SAASC,EAAYC,GACnBA,EAAEC,kBACc,EAAApE,EAAA+D,eAERjC,MAAK,SAAAG,GACXI,QAAQC,IAAIL,GAEZ6B,EAAU9B,UAAYiC,C,IAO1B,SAASI,EAAUF,GACjB,GAA0B,WAAtBA,EAAE7C,OAAOgD,SAAb,CAGA,IAAMZ,EAAWS,EAAE7C,OAAOiD,aAAa,kBACvC,EAAAvE,EAAAwE,kBAAiBd,GAAU5B,MAAK,SAAAG,GAC9B6B,EAAU9B,UAAY,GACtB6B,EAAS7B,UAAYvB,EAAewB,E,GALpC,C,CA7CJ+B,EAAMS,SAAQ,SAAA/D,GACZ,IAAIgE,EAAa,GACJhE,EAAIiE,MAEZF,SAAQ,SAAAG,GACXF,GAAc,2JAEoEzD,OAAzB2D,EAAK9D,WAAW,WAAiCG,OAAxB2D,EAAK7D,MAAM,eAK/DE,OAL4E2D,EAAK/D,IAAI,0JAMpFI,OADD2D,EAAK7D,MAAM,6CACEE,OAAZ2D,EAAK5D,OAAO,oB,IAG7CiD,GAAU,kGAG2BhD,OADSP,EAAI8C,UAAU,iDAEcvC,OADrCyD,EAAW,yFACwCzD,OAAdP,EAAI8C,UAAU,mC,IAG1FM,EAAUH,mBAAmB,aAAcM,GAGrB9D,SAASC,cAAc,sBAC/Be,iBAAiB,QAAS+C,GAarB/D,SAASC,cAAc,qBAC/Be,iBAAiB,QAASkD,E,CA5ClBQ,CAAW5C,E,0BEThC,IAAM6C,EAAW3E,SAASC,cAAc,cAExC2E,OAAO5D,iBAAiB,UAUxB,WAEIhB,SAAS6E,KAAKC,UAAY,KAC1B9E,SAAS+E,gBAAgBD,UAAY,IAErCH,EAAStC,MAAM2C,QAAU,QAEzBL,EAAStC,MAAM2C,QAAU,M,IAhB7BL,EAAS3D,iBAAiB,SAE1B,WACE4D,OAAOK,SAAS,CACdC,IAAK,EACLC,SAAU,U","sources":["src/index.js","src/js/home-page.js","src/js/categories.js","src/js/scroll-up.js"],"sourcesContent":["import './js/fond-items'\nimport './js/request'\nimport './js/header'\nimport './js/home-page'\nimport './js/categories'\nimport './js/modal'\nimport './js/donate-bar'\nimport './js/scroll-up'\nimport './js/switch-theme'\n\n","import { getTopBooks } from './request';\nimport { getBooksCategory } from './request';\nimport { loader } from './loader';\nimport { createBookList } from './categories';\nimport './categories';\nconst bookList = document.querySelector('.book-list-js');\nconst bestBooks = document.querySelector('.best-books__list');\nconst promise = getTopBooks();\n\npromise.then(data => createDate(data));\nfunction createDate(categ) {\n  let markup = '';\n  categ.forEach(arr => {\n    let bookMarkup = '';\n    const data = arr.books;\n\n    data.forEach(book => {\n      bookMarkup += `<li class=\"best-books__item is-hidden-books\">\n      <a href=\"\" class=\"best-books__link\">\n          <img class=\"best-books__image\" loading=\"lazy\" src=\"${book.book_image}\" alt=\"${book.title}\" data-id=\"${book._id}\">\n      </a>\n      <div class=\"card-quick\">\n         <p class=\"card-quick-view\">Quick view</p>\n      </div>\n      <p class='best-book__title'>${book.title}</p>\n      <p class='best-book__author'>${book.author}</p>\n      </li>`;\n    });\n    markup += `\n      <li class='best-books-category-wrap'>\n        <p class ='best-books__category__title'>${arr.list_name}</p>\n        <ul class='best-book-category'>${bookMarkup}</ul>\n        <button  class='best-books-morebutton' type=\"button\" data-category=\"${arr.list_name}\">see more</button>\n      </li>`;\n  });\n  bestBooks.insertAdjacentHTML('afterbegin', markup);\n  // bestBooks.innerHTML = markup;\n\n  const bestButtonAll = document.querySelector('.category__linkAll');\n  bestButtonAll.addEventListener('click', onButtonAll);\n\n  function onButtonAll(e) {\n    e.preventDefault();\n    const promise = getTopBooks();\n\n    promise.then(data => {\n      console.log(data);\n\n      bestBooks.innerHTML = markup;\n    });\n  }\n\n  const bestButton = document.querySelector('.best-books__list');\n  bestButton.addEventListener('click', onSeeMore);\n\n  function onSeeMore(e) {\n    if (e.target.nodeName !== 'BUTTON') {\n      return;\n    }\n    const category = e.target.getAttribute('data-category');\n    getBooksCategory(category).then(data => {\n      bestBooks.innerHTML = '';\n      bookList.innerHTML = createBookList(data);\n    });\n  }\n}\n","import { getCategoriesList } from './request';\nimport axios from 'axios';\nimport { loader } from './loader';\nconst listElement = document.querySelector('.cat-list-js');\nconst bookList = document.querySelector('.book-list-js');\nconst bookTitle = document.querySelector('.book-title-js');\nconst bestBooks = document.querySelector('.best-books__list');\nconst mainTitleHidden = document.querySelector('.best-books__maintitle');\n\nlistElement.addEventListener('click', onClick);\n\nfunction onClick(evt) {\n  const categoryName = evt.target.outerText;\n  loader.show();\n  axios\n    .get(\n      `https://books-backend.p.goit.global/books/category?category=${categoryName}`\n    )\n    .then(function (response) {\n      bestBooks.innerHTML = '';\n      bookList.innerHTML = createBookList(response.data);\n\n      loader.hide();\n    })\n    .catch(function (error) {\n      console.log(error);\n    });\n  bookTitle.textContent = categoryName;\n  mainTitleHidden.style.visibility = 'hidden';\n  mainTitleHidden.style.position = 'absolute';\n}\n\nexport function createBookList(arr) {\n  return arr\n    .map(\n      ({\n        _id,\n        book_image,\n        title,\n        author,\n      }) => `<li class=\"category-book-item\" data-book-id=\"${_id}\">\n       <button class=\"category__link\" type='button' data-category>\n       <a href=\"\" class=\"best-books__link\">\n          <img src=\"${book_image}\" alt=\"book\" data-id=\"${_id}\" class=\"category-book-img best-books__image\">\n        </a>\n        <div class=\"card-quick\">\n         <p class=\"card-quick-view\">Quick view</p>\n      </div>\n            <div class=\"textbox\">\n                <div class=\"titlebox\">  \n                  <p class=\"titlebox-title\">${title}</p>\n                </div>\n                <div class=\"authorbox\">  \n                  <p class=\"authorbox-author\">${author}</p>\n                </div>\n            </div>          \n        </button>\n      </li>`\n    )\n    .join('');\n}\n\nexport const createCategoryList = async () => {\n  try {\n    const categoriesList = await getCategoriesList();\n    categoriesList.sort((a, b) => a.list_name.localeCompare(b.list_name));\n\n    const buttonsCategoriesList = categoriesList\n      .map(\n        category =>\n          `<li class=\"category__item\">\n          <button class=\"category__link\">\n            ${category.list_name}\n          </button>\n        </li>`\n      )\n      .join('');\n    listElement.insertAdjacentHTML('beforeend', buttonsCategoriesList);\n  } catch (error) {\n    console.log(error);\n  }\n};\ncreateCategoryList();\n","const scrollUp = document.querySelector('.scroll-up');\n\nwindow.addEventListener('scroll', onScrollWheel);\nscrollUp.addEventListener('click', onScrollClick);\n\nfunction onScrollClick() {\n  window.scrollTo({\n    top: 0,\n    behavior: 'smooth',\n  });\n}\n\nfunction onScrollWheel() {\n  if (\n    document.body.scrollTop > 500 ||\n    document.documentElement.scrollTop > 500\n  ) {\n    scrollUp.style.display = 'block';\n  } else {\n    scrollUp.style.display = 'none';\n  }\n}\n"],"names":["parcelRequire","$944jd","$bpxeT","$7035cf87bda54340$var$listElement","document","querySelector","$7035cf87bda54340$var$bookList","$7035cf87bda54340$var$bookTitle","$7035cf87bda54340$var$bestBooks","$7035cf87bda54340$var$mainTitleHidden","$7035cf87bda54340$export$96f341d14ca64895","arr","map","param","_id","book_image","title","author","concat","join","addEventListener","evt","categoryName","target","outerText","$kvC6y","loader","show","$dIxxU","default","get","then","response","innerHTML","data","hide","catch","error","console","log","textContent","style","visibility","position","$7035cf87bda54340$export$7b0178aacb0b75f6","$parcel$interopDefault","$2TvXO","mark","_callee","categoriesList","buttonsCategoriesList","getCategoriesList","_ctx","sent","sort","a","b","list_name","localeCompare","category","insertAdjacentHTML","t0","$e0d740ca6c7bcb9c$var$bookList","$e0d740ca6c7bcb9c$var$bestBooks","getTopBooks","categ","markup","onButtonAll","e","preventDefault","onSeeMore","nodeName","getAttribute","getBooksCategory","forEach","bookMarkup","books","book","$e0d740ca6c7bcb9c$var$createDate","$17f8071d162f96bc$var$scrollUp","window","body","scrollTop","documentElement","display","scrollTo","top","behavior"],"version":3,"file":"index.6e736059.js.map"}