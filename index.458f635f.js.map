{"mappings":"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","sources":["src/index.js","src/js/home-page.js","src/js/categories.js","src/js/scroll-up.js"],"sourcesContent":["import './js/fond-items'\nimport './js/request'\nimport './js/header'\nimport './js/home-page'\nimport './js/categories'\nimport './js/modal'\nimport './js/donate-bar'\nimport './js/scroll-up'\nimport './js/switch-theme'\n\n","import { getTopBooks } from './request';\nimport { getBooksCategory } from './request';\nimport { loader } from './loader';\nimport { createBookList } from './categories';\nimport './categories';\nconst bookList = document.querySelector('.book-list-js');\nconst bestBooks = document.querySelector('.best-books__list');\nconst titleBest = document.querySelector('.best-books__maintitle');\nconst bookTit = document.querySelector('.book-title-js')\nconst promise = getTopBooks();\n\npromise.then(data => createDate(data));\nfunction createDate(categ) {\n  let markup = '';\n  categ.forEach(arr => {\n    let bookMarkup = '';\n    const data = arr.books;\n\n    data.forEach(book => {\n      bookMarkup += `<li class=\"best-books__item is-hidden-books\">\n      <a href=\"\" class=\"best-books__link\">\n          <img class=\"best-books__image\" loading=\"lazy\" src=\"${book.book_image}\" alt=\"${book.title}\" data-id=\"${book._id}\">\n      </a>\n      <div class=\"card-quick\">\n         <p class=\"card-quick-view\">Quick view</p>\n      </div>\n      <p class='best-book__title'>${book.title}</p>\n      <p class='best-book__author'>${book.author}</p>\n      </li>`;\n    });\n    markup += `\n      <li class='best-books-category-wrap'>\n        <p class ='best-books__category__title'>${arr.list_name}</p>\n        <ul class='best-book-category'>${bookMarkup}</ul>\n        <button  class='best-books-morebutton' type=\"button\" data-category=\"${arr.list_name}\">see more</button>\n      </li>`;\n  });\n  bestBooks.insertAdjacentHTML('afterbegin', markup);\n  // bestBooks.innerHTML = markup;\n\n  const bestButtonAll = document.querySelector('.category__linkAll');\n  bestButtonAll.addEventListener('click', onButtonAll);\n\n  function onButtonAll(e) {\n    e.preventDefault();\n    const promise = getTopBooks();\n\n    promise.then(data => {\n      console.log(data);\n\n      bestBooks.innerHTML = markup;\n    });\n  }\n\n  const bestButton = document.querySelector('.best-books__list');\n  bestButton.addEventListener('click', onSeeMore);\n\n  function onSeeMore(e) {\n    if (e.target.nodeName !== 'BUTTON') {\n      return;\n    }\n    const category = e.target.getAttribute('data-category');\n    getBooksCategory(category).then(data => {\n      bestBooks.innerHTML = '';\n      bookList.innerHTML = createBookList(data);\n      console.log(data);\n\n    titleBest.style.visibility = 'hidden';\n    titleBest.style.position = 'absolute';\n      bookTit.textContent = category;\n    });\n  }\n}\n","import { getCategoriesList, getBooksCategory } from './request';\nimport axios from 'axios';\nimport { loader } from './loader';\nconst listElement = document.querySelector('.cat-list-js');\nconst bookList = document.querySelector('.book-list-js');\nconst bookTitle = document.querySelector('.book-title-js');\nconst bestBooks = document.querySelector('.best-books__list');\nconst mainTitleHidden = document.querySelector('.best-books__maintitle');\n\nlistElement.addEventListener('click', onClick);\n\nasync function onClick(evt) {\n  const categoryName = evt.target.textContent.trim();\n  loader.show();\n  try {\n    const response = await getBooksCategory(categoryName);\n    console.log('response:', response);\n\n    bestBooks.innerHTML = '';\n    bookList.innerHTML = createBookList(response);\n\n    loader.hide();\n\n    bookTitle.textContent = categoryName;\n    mainTitleHidden.style.visibility = 'hidden';\n    mainTitleHidden.style.position = 'absolute';\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nexport function createBookList(arr) {\n  return arr\n    .map(\n      ({\n        _id,\n        book_image,\n        title,\n        author,\n      }) => `<li class=\"category-book-item\" data-book-id=\"${_id}\">\n       <button class=\"category__link\" type='button' data-category>\n       <a href=\"\" class=\"best-books__link\">\n          <img src=\"${book_image}\" alt=\"book\" data-id=\"${_id}\" class=\"category-book-img best-books__image\">\n        </a>\n        <div class=\"card-quick\">\n         <p class=\"card-quick-view\">Quick view</p>\n      </div>\n            <div class=\"textbox\">\n                <div class=\"titlebox\">  \n                  <p class=\"titlebox-title\">${title}</p>\n                </div>\n                <div class=\"authorbox\">  \n                  <p class=\"authorbox-author\">${author}</p>\n                </div>\n            </div>          \n        </button>\n      </li>`\n    )\n    .join('');\n}\n\nexport const createCategoryList = async () => {\n  try {\n    const categoriesList = await getCategoriesList();\n    categoriesList.sort((a, b) => a.list_name.localeCompare(b.list_name));\n\n    const buttonsCategoriesList = categoriesList\n      .map(\n        category =>\n          `<li class=\"category__item\">\n          <button class=\"category__link\">\n            ${category.list_name}\n          </button>\n        </li>`\n      )\n      .join('');\n    listElement.insertAdjacentHTML('beforeend', buttonsCategoriesList);\n  } catch (error) {\n    console.log(error);\n  }\n};\ncreateCategoryList();\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","const scrollUp = document.querySelector('.scroll-up');\n\nwindow.addEventListener('scroll', onScrollWheel);\nscrollUp.addEventListener('click', onScrollClick);\n\nfunction onScrollClick() {\n  window.scrollTo({\n    top: 0,\n    behavior: 'smooth',\n  });\n}\n\nfunction onScrollWheel() {\n  if (\n    document.body.scrollTop > 500 ||\n    document.documentElement.scrollTop > 500\n  ) {\n    scrollUp.style.display = 'block';\n  } else {\n    scrollUp.style.display = 'none';\n  }\n}\n"],"names":["parcelRequire","$e5MbR","$f3b06000f9b46fbb$var$listElement","document","querySelector","$f3b06000f9b46fbb$var$bookList","$f3b06000f9b46fbb$var$bookTitle","$f3b06000f9b46fbb$var$bestBooks","$f3b06000f9b46fbb$var$mainTitleHidden","$f3b06000f9b46fbb$export$96f341d14ca64895","arr","map","_id","book_image","title","author","join","addEventListener","async","evt","categoryName","target","textContent","trim","$gjiCh","loader","show","response","getBooksCategory","console","log","innerHTML","hide","style","visibility","position","error","categoriesList","getCategoriesList","sort","a","b","list_name","localeCompare","buttonsCategoriesList","category","insertAdjacentHTML","$f3b06000f9b46fbb$export$7b0178aacb0b75f6","$9bfb79a853d4dcfb$var$bookList","$9bfb79a853d4dcfb$var$bestBooks","$9bfb79a853d4dcfb$var$titleBest","$9bfb79a853d4dcfb$var$bookTit","getTopBooks","then","data","categ","markup","forEach","bookMarkup","books","book","onButtonAll","e","preventDefault","onSeeMore","nodeName","getAttribute","$9bfb79a853d4dcfb$var$createDate","$52650fc44c8b8200$var$scrollUp","window","body","scrollTop","documentElement","display","scrollTo","top","behavior"],"version":3,"file":"index.458f635f.js.map"}