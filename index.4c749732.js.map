{"mappings":"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","sources":["src/index.js","src/js/home-page.js","src/js/categories.js","src/js/scroll-up.js"],"sourcesContent":["import './js/fond-items'\nimport './js/request'\nimport './js/header'\nimport './js/home-page'\nimport './js/categories'\nimport './js/modal'\nimport './js/donate-bar'\nimport './js/scroll-up'\nimport './js/switch-theme'\n\n","import { getTopBooks } from './request';\nimport { getBooksCategory } from './request';\nimport { loader } from './loader';\nimport { createBookList } from './categories';\nimport './categories';\nconst bookList = document.querySelector('.book-list-js');\nconst bestBooks = document.querySelector('.best-books__list');\nconst promise = getTopBooks();\n\npromise.then(data => createDate(data));\nfunction createDate(categ) {\n  let markup = '';\n  categ.forEach(arr => {\n    let bookMarkup = '';\n    const data = arr.books;\n\n    data.forEach(book => {\n      bookMarkup += `<li class=\"best-books__item is-hidden-books\">\n      <a href=\"\" class=\"best-books__link\">\n          <img class=\"best-books__image\" loading=\"lazy\" src=\"${book.book_image}\" alt=\"${book.title}\" data-id=\"${book._id}\">\n      </a>\n      <div class=\"card-quick\">\n         <p class=\"card-quick-view\">Quick view</p>\n      </div>\n      <p class='best-book__title'>${book.title}</p>\n      <p class='best-book__author'>${book.author}</p>\n      </li>`;\n    });\n    markup += `\n      <li class='best-books-category-wrap'>\n        <p class ='best-books__category__title'>${arr.list_name}</p>\n        <ul class='best-book-category'>${bookMarkup}</ul>\n        <button  class='best-books-morebutton' type=\"button\" data-category=\"${arr.list_name}\">see more</button>\n      </li>`;\n  });\n  bestBooks.insertAdjacentHTML('afterbegin', markup);\n  // bestBooks.innerHTML = markup;\n\n  const bestButtonAll = document.querySelector('.category__linkAll');\n  bestButtonAll.addEventListener('click', onButtonAll);\n\n  function onButtonAll(e) {\n    e.preventDefault();\n    const promise = getTopBooks();\n\n    promise.then(data => {\n      console.log(data);\n\n      bestBooks.innerHTML = markup;\n    });\n  }\n\n  const bestButton = document.querySelector('.best-books__list');\n  bestButton.addEventListener('click', onSeeMore);\n\n  function onSeeMore(e) {\n    if (e.target.nodeName !== 'BUTTON') {\n      return;\n    }\n    const category = e.target.getAttribute('data-category');\n    getBooksCategory(category).then(data => {\n      bestBooks.innerHTML = '';\n      bookList.innerHTML = createBookList(data);\n    });\n  }\n}\n","import { getCategoriesList, getBooksCategory } from './request';\nimport axios from 'axios';\nimport { loader } from './loader';\nconst listElement = document.querySelector('.cat-list-js');\nconst bookList = document.querySelector('.book-list-js');\nconst bookTitle = document.querySelector('.book-title-js');\nconst bestBooks = document.querySelector('.best-books__list');\nconst mainTitleHidden = document.querySelector('.best-books__maintitle');\n\nlistElement.addEventListener('click', onClick);\n\nasync function onClick(evt) {\n  const categoryName = evt.target.textContent.trim();\n  loader.show();\n  try {\n    const response = await getBooksCategory(categoryName);\n    console.log('response:', response);\n\n    bestBooks.innerHTML = '';\n    bookList.innerHTML = createBookList(response);\n\n    loader.hide();\n\n    bookTitle.textContent = categoryName;\n    mainTitleHidden.style.visibility = 'hidden';\n    mainTitleHidden.style.position = 'absolute';\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nexport function createBookList(arr) {\n  return arr\n    .map(\n      ({\n        _id,\n        book_image,\n        title,\n        author,\n      }) => `<li class=\"category-book-item\" data-book-id=\"${_id}\">\n       <button class=\"category__link\" type='button' data-category>\n       <a href=\"\" class=\"best-books__link\">\n          <img src=\"${book_image}\" alt=\"book\" data-id=\"${_id}\" class=\"category-book-img best-books__image\">\n        </a>\n        <div class=\"card-quick\">\n         <p class=\"card-quick-view\">Quick view</p>\n      </div>\n            <div class=\"textbox\">\n                <div class=\"titlebox\">  \n                  <p class=\"titlebox-title\">${title}</p>\n                </div>\n                <div class=\"authorbox\">  \n                  <p class=\"authorbox-author\">${author}</p>\n                </div>\n            </div>          \n        </button>\n      </li>`\n    )\n    .join('');\n}\n\nexport const createCategoryList = async () => {\n  try {\n    const categoriesList = await getCategoriesList();\n    categoriesList.sort((a, b) => a.list_name.localeCompare(b.list_name));\n\n    const buttonsCategoriesList = categoriesList\n      .map(\n        category =>\n          `<li class=\"category__item\">\n          <button class=\"category__link\">\n            ${category.list_name}\n          </button>\n        </li>`\n      )\n      .join('');\n    listElement.insertAdjacentHTML('beforeend', buttonsCategoriesList);\n  } catch (error) {\n    console.log(error);\n  }\n};\ncreateCategoryList();\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","const scrollUp = document.querySelector('.scroll-up');\n\nwindow.addEventListener('scroll', onScrollWheel);\nscrollUp.addEventListener('click', onScrollClick);\n\nfunction onScrollClick() {\n  window.scrollTo({\n    top: 0,\n    behavior: 'smooth',\n  });\n}\n\nfunction onScrollWheel() {\n  if (\n    document.body.scrollTop > 500 ||\n    document.documentElement.scrollTop > 500\n  ) {\n    scrollUp.style.display = 'block';\n  } else {\n    scrollUp.style.display = 'none';\n  }\n}\n"],"names":["parcelRequire","$944jd","$bpxeT","$7035cf87bda54340$var$listElement","document","querySelector","$7035cf87bda54340$var$bookList","$7035cf87bda54340$var$bookTitle","$7035cf87bda54340$var$bestBooks","$7035cf87bda54340$var$mainTitleHidden","$7035cf87bda54340$var$_onClick","$parcel$interopDefault","$2TvXO","mark","_callee","evt","categoryName","response","target","textContent","trim","$kvC6y","loader","show","getBooksCategory","_ctx","sent","console","log","innerHTML","$7035cf87bda54340$export$96f341d14ca64895","hide","style","visibility","position","t0","apply","this","arguments","arr","map","param","_id","book_image","title","author","concat","join","addEventListener","$7035cf87bda54340$export$7b0178aacb0b75f6","categoriesList","buttonsCategoriesList","getCategoriesList","sort","a","b","list_name","localeCompare","category","insertAdjacentHTML","$e0d740ca6c7bcb9c$var$bookList","$e0d740ca6c7bcb9c$var$bestBooks","getTopBooks","then","data","categ","markup","onButtonAll","e","preventDefault","onSeeMore","nodeName","getAttribute","forEach","bookMarkup","books","book","$e0d740ca6c7bcb9c$var$createDate","$17f8071d162f96bc$var$scrollUp","window","body","scrollTop","documentElement","display","scrollTo","top","behavior"],"version":3,"file":"index.4c749732.js.map"}